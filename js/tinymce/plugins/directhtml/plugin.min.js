tinymce.PluginManager.add("directHTML", function(dhtmlInit) {
    function dhtmlOut() {
        var dhtmlOut = dhtmlInit.windowManager.open({
            title: "Inputting HTML Mode",
            type: "container",
            body: {
                type: "textbox",
                style: "text-align: left",
                name: "directHTML", 
                autofocus: "true", 
                multiline: !0, //multiline
                minWidth: dhtmlInit.getParam("directHTML_dialog_width", 900),
                minHeight: dhtmlInit.getParam("directHTML_dialog_height", 
                Math.min(tinymce.DOM.getViewPort().h - 100, 800))
            }, 
            onSubmit: function(dhtmlOut) {
                dhtmlInit.focus(), 
                dhtmlInit.undoManager.transact(function() {
                dhtmlInit.setContent(dhtmlOut.data.directHTML)
                });
            }
        });

        dhtmlOut.find("#directHTML").value(dhtmlInit.getContent({
            source_view: !0
        }));
    }
    dhtmlInit.addCommand("DirectHTML", dhtmlOut), 
    dhtmlInit.addButton("directHTML", {
        icon: "outdent",
        tooltip: "Inputting HTML Editor",
        onclick: dhtmlOut
    }), 
    dhtmlInit.addMenuItem("directHTML", {
        icon: "outdent",
        text: "Inputting HTML Editor",
        context: 'view',
        onclick: dhtmlOut
    });
});


